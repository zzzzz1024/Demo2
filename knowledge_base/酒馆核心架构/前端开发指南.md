# 前端开发指南

## Vue.js 界面开发

### 1. 基础结构

```vue
<template>
  <div class="custom-interface">
    <!-- 界面内容 -->
  </div>
</template>

<script>
export default {
  name: 'CustomInterface',
  data() {
    return {
      // 数据状态
    }
  },
  methods: {
    // 方法定义
  }
}
</script>

<style scoped>
/* 样式定义 */
</style>
```

### 2. TavernHelper UI 集成

#### 界面注册

```javascript
// 注册Vue组件到TavernHelper
TavernHelper.ui.registerComponent('MyComponent', MyComponent);

// 在界面中显示
TavernHelper.ui.showModal('MyComponent', {
  title: '自定义界面',
  data: { /* 传递数据 */ }
});
```

#### 事件处理

```javascript
// 监听界面事件
TavernHelper.events.on('ui:component:mounted', (componentName) => {
  console.log(`组件 ${componentName} 已挂载`);
});

// 组件间通信
TavernHelper.events.emit('custom:action', { data: 'value' });
```

### 3. 响应式数据管理

#### 变量绑定

```javascript
// 获取TavernHelper变量
const value = TavernHelper.variables.get('variableName', 'global');

// 响应式更新
TavernHelper.variables.watch('variableName', (newValue, oldValue) => {
  // 更新Vue组件数据
  this.reactiveData = newValue;
});
```

#### 双向绑定

```vue
<template>
  <input v-model="tavernVariable" @input="updateTavernVariable" />
</template>

<script>
export default {
  computed: {
    tavernVariable: {
      get() {
        return TavernHelper.variables.get('myVar', 'chat');
      },
      set(value) {
        TavernHelper.variables.set('myVar', value, 'chat');
      }
    }
  }
}
</script>
```

### 4. 界面样式系统

#### SillyTavern 主题兼容

```css
/* 使用SillyTavern的CSS变量 */
.custom-interface {
  background-color: var(--SmartThemeBodyColor);
  color: var(--SmartThemeTextColor);
  border: 1px solid var(--SmartThemeBorderColor);
}

/* 响应式设计 */
@media (max-width: 768px) {
  .custom-interface {
    font-size: 14px;
    padding: 8px;
  }
}
```

#### 组件库集成

```javascript
// 使用SillyTavern内置组件
import { STButton, STInput, STModal } from 'sillytavern-components';

export default {
  components: {
    STButton,
    STInput,
    STModal
  }
}
```

### 5. 数据持久化

#### 本地存储

```javascript
// 保存界面状态
TavernHelper.storage.setItem('ui:state', JSON.stringify(uiState));

// 恢复界面状态
const savedState = JSON.parse(TavernHelper.storage.getItem('ui:state') || '{}');
```

#### 角色数据关联

```javascript
// 绑定到当前角色
TavernHelper.variables.set('ui:preferences', preferences, 'character');

// 全局设置
TavernHelper.variables.set('ui:globalSettings', settings, 'global');
```

## 常用UI模式

### 1. 设置界面

- 选项卡布局
- 表单验证
- 实时预览

### 2. 数据展示

- 表格视图
- 卡片布局
- 图表集成

### 3. 交互控件

- 模态对话框
- 下拉菜单
- 拖拽排序
